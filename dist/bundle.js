!function(t){var e={};function n(o){if(e[o])return e[o].exports;var l=e[o]={i:o,l:!1,exports:{}};return t[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)n.d(o,l,function(e){return t[e]}.bind(null,l));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);class o{constructor(t,e,n){this.title=t,this.parentId=e,this.id=n}}function l(t){let e=(new Date).getTime(),n=`\n  \n      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">\n      <div class="modal-dialog modal-dialog-centered">\n        <div class="modal-content">\n          <div class="modal-header">\n            <h5 class="modal-title" id="exampleModalLabel">This is your fabulous task</h5>\n            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n          </div>\n          <div class="modal-body">\n            <div class="form-group" style="margin: 10px">\n              <textarea class="form-control" id="taskDetails" rows="3"></textarea>\n            </div>\n          </div>\n          <div class="modal-footer">\n            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n            <button type="button" class="btn btn-primary" id="${e}" data-dismiss="modal">Save changes</button>\n          </div>\n        </div>\n      </div>\n    </div> `,l=document.getElementById(t.toString());if(l){let a=l.parentElement.parentElement,r=document.createElement("div");r.innerHTML=n,a.appendChild(r);let i=document.getElementById(e.toString());console.log("submit",i),i&&(console.log("he?"),i.addEventListener("click",e=>function(t){let e=document.getElementById("taskDetails").value,n=(new Date).getTime(),l=new o(e,t,n);console.log(l);let a,r=localStorage.getItem("columns");r&&(a=JSON.parse(r),a[t].notes.push(l),localStorage.setItem("columns",JSON.stringify(a)));let i=`\n  \n      <div class="form-group" style="margin: 10px" id="${n}" draggable="true" ondragstart="${d=event,void d.dataTransfer.setData("id",d.target.id)}">\n      <textarea class="form-control" id="" rows="3">${e}</textarea>\n      </div> `,s=document.getElementById(t);var d;if(s){let t=s.parentElement.parentElement,e=document.createElement("div");e.innerHTML=i,t.appendChild(e)}document.getElementById("taskDetails").value=""}(t)))}}function a(){let t,e=localStorage.getItem("columns");console.log("Po load"),console.log(e),e&&(e=JSON.parse(e),t=Array.from(e));let n="";null!==t&&t.forEach((function(t,e){n+=`\n              <div class="card border-primary mb-3" style="max-width: 18rem; height: 600px;" id="newNote">\n              <div class="card-header">\n              <button type="button" class="btn btn-outline-success" id="${e}" data-toggle="modal" data-target="#exampleModal">+</button>\n              <button type="button" class="btn btn-outline-danger" id="${e}">X</button>\n              <h5 class="card-title" id="noteTitle">${t.title}</h5>\n              </div>\n              <div class="card-body text-primary" ondrop="drop(event)" ondragover="allowDrop(event)" id="${e}">\n              </div>\n              </div> `,function(t){let e=document.getElementById("notes"),n=document.createElement("div");n.innerHTML=t,e&&e.appendChild(n)}(n);let o=document.getElementsByClassName("btn-outline-danger"),r=document.getElementsByClassName("btn-outline-success");Array.from(o).forEach(t=>{t.addEventListener("click",t=>function(t){console.log("deeletee");let e,n=localStorage.getItem("columns");n&&(e=JSON.parse(n),e.splice(t,1));localStorage.setItem("columns",JSON.stringify(e));let o=document.getElementById("notes");o&&(o.innerHTML="");a()}(e))}),Array.from(r).forEach(t=>{t.addEventListener("click",t=>l(e))}),console.log(o),n="",t.notes.forEach((function(t,e){let n=`\n\n                <div class="form-group" style="margin: 10px" id="${t.id}" draggable="true" ondragstart="drag(event)">\n                <textarea class="form-control" id="" rows="3">${t.title}</textarea>\n              </div> `;!function(t,e){let n=document.getElementById(t.toString());if(n){let t=n.parentElement.parentElement,o=document.createElement("div");o.innerHTML=e,t.appendChild(o)}}(t.parentId,n),n=""}))}))}class r{constructor(t){this.title=t,this.notes=[]}createNewColumn(){this.column=new r(this.title),this.updateLocalStorage();let t=document.getElementById("notes");t&&(t.innerHTML=""),a()}updateLocalStorage(){let t,e=localStorage.getItem("columns");console.log(e),t=null==e?this.column:JSON.parse(e);let n=Array.from(t);this.column&&n.push(this.column),console.log("Nowa kolumna",this.column),localStorage.setItem("columns",JSON.stringify(n));let o=localStorage.getItem("columns");console.log("Nowy storage",o)}}window.onload=function(){a()};new class{constructor(t,e){this.inputId=t,this.buttonId=e,this.input=document.getElementById(this.inputId),this.button=document.getElementById(this.buttonId),this.button&&(this.button.addEventListener("click",t=>this.addColumn()),this.button.addEventListener("click",t=>this.clearArea()))}addColumn(){let t=this.input.value;this.column=new r(t),this.column.createNewColumn()}clearArea(){this.input.value="Title"}}("createNewColumnInput","createNewColumnButton")}]);